<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
		<meta name="apple-mobile-web-app-capable" content="yes">
    	<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../../css/api.css"/>
		<style type="text/css">
			.talkus{
				min-width: 320px;
			}
			.inp{
				padding: 20px 15px;
			}
			.inp textarea{
				width: -webkit-calc(100% - 30px);
				width: calc(100% - 30px);
				height: 150px;
				outline: none;
				border: 1px solid #e4e4e4;
				border-radius: 5px;
				padding: 10px;
			}
			.tom{
				text-align: center;
			}
			.tom span{
				border: 1px solid #f4c4f4;
				padding:0 4px;
				line-height: 24px;
				font-size: 18px;
			}
		</style>
	</head>
	<body>
		<div class="talkus">
			<div class="inp">
				<textarea placeholder="请输入要说的话"></textarea>
				<div>提交</div>
			</div>
			<div>
				<p class="tom"><span onclick="aps()">查找</span></p>
			</div>
		</div>
	</body>
	<script src="../../script/api.js"></script>
	<script>
		apiready = function(){
			
		}
		function aps(){
			var fileBrowser = api.require('fileBrowser');
			fileBrowser.open(function(ret, err){
			    if (ret) {
			    	fileBrowser.close();
			        alert(JSON.stringify(ret));
			        var cc = ret.url;
			        opentxt(cc);
			    } else {
			    	fileBrowser.close();
			        alert('选择的文件读取失败');
			    }
			});
		}
		function opentxt(url){
			var bookReader = api.require('bookReader');
			bookReader.open({
			    filePath: url,
			    textStyle:{
			    	size:14
			    }
			}, function(ret, err) {
			    if (ret) {
			        alert(JSON.stringify(err));
			    } else {
			        alert(JSON.stringify(err));
			    }
			});
		}
	</script>
</html>
